<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Cart</title>
	<link rel="stylesheet" th:href="@{/css/cart.css}">
</head>
<body>
	<div id="w">
	  <header id="title">
		<h1>YOUR SHOPPING CART</h1>
	  </header>
	  <div id="page">
		<table id="cart">
		  <thead>
			<tr>
			  <th class="first">Photo</th>
			  <th class="second">Qty</th>
			  <th class="third">Product</th>
			  <th class="fourth">Line Total</th>
			  <th class="fifth">&nbsp;</th>
			</tr>
		  </thead>
		  <tbody>
			<!-- shopping cart contents -->
			<tr th:each="wallet_ : ${wallets}" class="productitm">
				<!-- http://www.inkydeals.com/deal/ginormous-bundle/ -->
				<td><img th:src="@{/images/image1.png}" class="thumb"></td>
				<td><input type="number" value="1" min="0" max="99" class="qtyinput"></td>
				<td th:text="${wallet_.getPurpose()}" ></td>
				<td th:text="${wallet_.getQuantity()}" class="money"></td>
				<td> 
					<label th:text="${wallet_.getId()}" class="walletId" hidden></label>
					<form class="remove" action="#" th:action="@{/delete}" method="POST">
					<!-- На fetch запрос отправляется post через js  -->
						<img th:src="@{/images/deleteBin.png}" alt="X" onclick="submit()"> 
					</form></td>
			  </tr>
			
			<tr class="totalprice">
			  <td class="light">Total:</td>
			  <td colspan="2">&nbsp;</td>
			  <td colspan="2"><span class="thick">$225.45</span></td>
			</tr>
			
			<!-- checkout btn -->
			<tr class="checkoutrow">
			  <td colspan="5" class="checkout"><button id="submitbtn">Checkout Now!</button></td>
			</tr>
		  </tbody>
		</table>
	  </div>
		<a href="/">Go to home page</a>
	</div>
	
  </body>
  
  <script>
  	let els = document.getElementsByClassName("money");
	let endSum = document.getElementsByClassName("thick");
	let sum = 0;
	for (let i = 0; i < els.length; i++){
		sum += parseFloat(els[i].innerText);
		console.log(els[i].innerText);
	}
	
	console.log(endSum[0])
	endSum[0].textContent = "$" + sum; 
	endSum[0].innerText = "$" + sum;
  </script>
</html>